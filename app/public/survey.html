<html lang="en">

<head>
    <meta charset="UTF-8" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
    <title>FriendFinder</title>

    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>


    <!-- Font Awesome Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" />

    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

    <style type="text/css">
        .c1-ui-state-hover {
            background-color: yellow !important;
            padding: 5px !important;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr />

        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required="" />

        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required="" />

        <hr />

        <h3><strong>Question 1</strong></h3>
        <label class="lead">You prefer staying in on a Friday night.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question1" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question1" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question1" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question1" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question1" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>

        <h3><strong>Question 2</strong></h3>
        <label class="lead">You prefer going out to eat at a fancy restuarant instead of going to a buffet.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question2" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question2" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question2" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question2" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question2" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>

        <h3><strong>Question 3</strong></h3>
        <label class="lead">You like going to concerts/music festivals.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question3" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question3" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question3" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question3" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question3" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>
        <!--         
        <h3><strong>Question 4</strong></h3>
        <label class="lead">You're always looking for a new book to read.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question4" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question4" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question4" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question4" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question4" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>

        <h3><strong>Question 5</strong></h3>
        <label class="lead">You consider yourself to be spontaneous.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question5" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question5" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question5" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question5" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question5" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>
        <h3><strong>Question 6</strong></h3>
        <label class="lead">You like to learn new material.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question6" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question6" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question6" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question6" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question6" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>
        <h3><strong>Question 7</strong></h3>
        <label class="lead">You're a sports fan.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question7" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question7" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question7" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question7" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question7" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>
        <h3><strong>Question 8</strong></h3>
        <label class="lead">You enjoy the outdoors.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question8" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question8" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question8" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question8" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question8" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>
        <h3><strong>Question 9</strong></h3>
        <label class="lead">You make new friends easily.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question9" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question9" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question9" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question9" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question9" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div>
        <h3><strong>Question 10</strong></h3>
        <label class="lead">You value experiences over material possessions.</label>
        <br />
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question10" id="inlineRadio1" value="1">
            <label class="form-check-label" for="inlineRadio1">1 (Strongly Disagree)</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question10" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question10" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question10" id="inlineRadio3" value="4">
            <label class="form-check-label" for="inlineRadio3">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="Question10" id="inlineRadio3" value="5">
            <label class="form-check-label" for="inlineRadio3">5 (Strongly Agree)</label>
        </div> -->

        <br />
        <br />

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
            <i class="fa fa-check-circle" aria-hidden="true"></i> Submit
        </button>

        <hr />
        <footer class="footer">
            <div class="container">
                <p>
                    <a href="/api/friends">API Friends List</a> |
                    <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a>
                </p>
            </div>
        </footer>
    </div>

    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title"><strong>Best Match</strong></h2>
                    <button type="button" class="close" data-dismiss="modal">×</button>
                </div>
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $('.form-check-input').click(function() {
            if ($(this).is(':checked')) {

            }
        });

        // Capture the form inputs
        $("#submit").on("click", function(event) {
            event.preventDefault();
            let userData = {
                scores: []
            }
            // Count number of responses by user. Require all questions are answered (10)
            let numberOfResponses = 0;
            $(".form-check-input").each(function() {
                if ($(this).is(':checked')) {
                    numberOfResponses++;
                    // console.log($(this).attr("value") + $(this).attr("name"));
                    userData.scores.push($(this).attr("value"));
                }
            });
            // if (numberOfResponses !== 10) {
            //     alert("Please answer all questions!");
            // } else 
            if (numberOfResponses == 3 && $("#name").val() !== null && $("#photo").val() !== null) {
                userData.name = $("#name").val();
                userData.photo = $("#photo").val();
                // If all questions have been answered submit results to server
                $.post("/api/friends", userData, function(data) {
                    // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                    $("#match-name").text(data.name);
                    $("#match-img").attr("src", data.photo);
                    
                    // Show the modal with the best match
                    $("#results-modal").modal("toggle");
                })
            }



            //     // AJAX post the data to the friends API.
            //     $.post("/api/friends", userData, function(data) {
            //     });
            // } else {
            //     alert("Please fill out all fields before submitting!");
            // }
        });
    </script>
</body>

</html>